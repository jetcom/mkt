{% extends "layout.html" %}

{% block content %}
<!-- modal -->
<div class="modal fade" id="fileModal" tabindex="-1" role="dialog" aria-labelledby="fileModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div id="fileModalContent" class="modal-content dark">
            <form id="fileSelect">
                <div class="modal-header">
                    <h5 class="modal-title">Choose Exam</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <input id="file" name="file" type="file" class="form-control-file" >
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Select</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- end modal -->

<div class="wrapper">
    <!-- sidebar -->
    <div id="toolbox" class="vbox">
        <button id="explorerCollapse" class="w3-button" >
            <i id="collapseIcon" class="fa fa-angle-double-left"></i>
        </button>
        <button id="saveButton" class="w3-button">
            <i class="fa fa-save"></i>
        </button>
        <button id="uploadButton" class="w3-button">
            <i class="fa fa-upload"></i>
        </button>
        <button id="addQuestionButton" class="w3-button">
            <i class="fa fa-plus"></i>
        </button>
    </div>
    <nav id="explorer">
        <!-- <select class=" w3-block w3-light-grey w3-medium" id="courseSelect">
            {% for course in courses %}
            <option value={{course}}>{{course}}</option>
            {% endfor %}
        </select> -->
        <!-- <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Add Question
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                {% for course in courses %}
                <a class="dropdown-item" href="#">{{course}}</a>
                {% endfor %}
            </div>
        </div>
        <br/>

        <div id="categorySelect"></div>
        <br/> -->
    </nav>
    <!-- end sidebar -->

    <!-- editor -->
    <div id="editor">
        <div class="w3-container">
            <h1>Questions</h1>
        </div>
        <div class="w3-container ">
            <div class="w3-cell-row">
                <div class="w3-cell">
                    <h3 id=questionLabel>Select a question category from the left sidebar</h3>
                </div>
                <!-- <div class="w3-cell w3-right-align" id="addQuestionButton">
                    <button onclick="document.getElementById('addQuestionModal').style.display='block'">Add Question
                    </button>
                </div> -->
            </div>
            <div id=questions></div>
        </div>
    </div>
    <!-- end content -->
</div>

<!-- The Modal -->
<!-- <div id="addQuestionModal" class="w3-modal">
    <div class="w3-modal-content">
            <form id="newQuestion" class="w3-container" method="post" >
            <span onclick="document.getElementById('addQuestionModal').style.display='none'"
                  class="w3-button w3-display-topright">&times;</span>
            <div class="w3-section ">
                <label><b>Question Title: </b></label>
                <input class="w3-input w3-margin-bottom" type="text" placeholder="Enter Title" name="title" required>
                <label><b>Question Type: </b></label>
                <select class="w3-select w3-margin-bottom " required>
                    <option value="" disabled selected>Select Question Type</option>
                    <option value=tf>True/False</option>
                    <option value=shortAnswer>Short Answer</option>
                    <option value=longAnswer>Long Answer</option>
                    <option value=multipleChoice>Multiple Choice</option>
                    <option value=matching>Matching</option>
                </select>
                <label><b>Points </b></label>
                <input class="w3-input w3-margin-bottom" type="text" placeholder="Leave blank to use default for type"
                       name="points" />
                <label><b>Question </b></label>
                <input class="w3-input w3-margin-bottom" type="text" placeholder="Enter Question text" name="question"
                       required/>


                <button class="w3-button w3-block w3-green w3-section w3-padding" type="submit">Save</button>
            </div>
            </form>
    </div>
</div> -->


<style>
    .wrapper {
        display: flex;
        width: 100%;
        height: 100%;
        align-items: stretch;
    }

    .vbox {
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
    
        /*Align children vetically*/
        -webkit-flex-direction: column;
        -ms-flex-direction: column;
        flex-direction: column;
    
        -webkit-align-content: flex-start;
        -ms-flex-line-pack: start;
        align-content: flex-start;
    }

    #explorer {
        width: 400px;
        position: absolute;
        height: calc(100% - 50px);
        top: 25;
        left: 50;
        transition: all 0.3s;
        border-right: 1px solid #D0D3D4;
    }

    #explorer.active {
        margin-left: -350px;
    }

    #toolbox {
        position: absolute;
        width: 50px;
        z-index: 999;
        border-right: 1px solid #D0D3D4;
        height: calc(100% - 50px);
    }

    #toolbox > * {
        height: 65px;
    }

    #editor {
        margin-left: 400px;
        width: 100%;
        transition: all 0.3s;
    }

    #editor.active {
        margin-left: 50px;
    }

    #fileModalContent.dark {
        background-color: #111;
        color: white;
    }

    #fileModalContent.dark .close{
        color: white;
    }

    .close {
        text-shadow: none;
    }

</style>

<script src="/static/js/main.js"></script>
<script>
    $('#explorerCollapse').on('click', function() {
        $('#explorer').toggleClass('active');
        $('#editor').toggleClass('active');
        if ($('#explorer').hasClass('active')) {
            $('#collapseIcon').removeClass("fa-angle-double-left").addClass("fa-angle-double-right");
        } else {
            $('#collapseIcon').removeClass("fa-angle-double-right").addClass("fa-angle-double-left");
        }
    });

    $("#uploadButton").on('click', function() {
        $('#fileModal').modal('show');
    });
</script>
{% endblock content %}